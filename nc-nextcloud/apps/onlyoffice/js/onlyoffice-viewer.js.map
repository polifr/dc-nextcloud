{"version":3,"file":"onlyoffice-viewer.js?v=c118f77e56fe9a483d37","mappings":"CA4BA,SAAWA,GACP,IAAIA,EAAIC,WAAR,CAIAD,EAAIC,WAAa,CACbC,QAAS,aACTC,cAAe,KACfC,QAAS,CAAC,GAGdJ,EAAIC,WAAWG,QAAUC,IAAIC,aAAaC,UAAUP,EAAIC,WAAWC,QAAS,YAE5E,IAAIM,EAAsB,CACtBC,KAAM,sBACNC,OAAQ,SAAUC,GACd,IAAIC,EAAOC,KAEX,OAAOF,EAAc,SAAU,CAC3BG,MAAO,CACHC,GAAI,wBACJC,UAAW,KACXC,IAAKL,EAAKM,IAAM,+BAEpBC,GAAI,CACAC,KAAM,WACFR,EAAKS,aACT,IAGZ,EACAC,MAAO,CACHC,SAAU,CACNC,KAAMC,OACNC,QAAS,MAEbC,OAAQ,CACJH,KAAMI,OACNF,QAAS,OAGjBG,KAAM,WACF,MAAO,CACHX,IAAKY,GAAGC,YAAY,SAAW/B,EAAIC,WAAWC,QAAU,gCACpD,CACI8B,OAAQnB,KAAKc,OACbM,SAAUpB,KAAKU,WAG/B,GAGJ,GAAIvB,EAAIkC,OAAQ,CACZlC,EAAIC,WAAWE,cAAgB,yBAE/B,IAAIgC,EAAQC,EAAEC,IAAIrC,EAAIC,WAAWG,QAAQkC,SAAS,SAAUC,GACxD,GAAIA,EAAOC,IACP,OAAOD,EAAOE,IAEtB,IACAN,EAAMO,OACN1C,EAAIkC,OAAOS,gBAAgB,CACvB5B,GAAIf,EAAIC,WAAWC,QACnB0C,MAAO,KACPT,MAAOA,EACPU,UAAWrC,GAEnB,CAhEA,CAkEH,CArED,CAqEGR","sources":["webpack:///onlyoffice/src/viewer.js"],"sourcesContent":["/**\n *\n * (c) Copyright Ascensio System SIA 2024\n *\n * This program is a free software product.\n * You can redistribute it and/or modify it under the terms of the GNU Affero General Public License\n * (AGPL) version 3 as published by the Free Software Foundation.\n * In accordance with Section 7(a) of the GNU AGPL its Section 15 shall be amended to the effect\n * that Ascensio System SIA expressly excludes the warranty of non-infringement of any third-party rights.\n *\n * This program is distributed WITHOUT ANY WARRANTY;\n * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n * For details, see the GNU AGPL at: http://www.gnu.org/licenses/agpl-3.0.html\n *\n * You can contact Ascensio System SIA at 20A-12 Ernesta Birznieka-Upisha street, Riga, Latvia, EU, LV-1050.\n *\n * The interactive user interfaces in modified source and object code versions of the Program\n * must display Appropriate Legal Notices, as required under Section 5 of the GNU AGPL version 3.\n *\n * Pursuant to Section 7(b) of the License you must retain the original Product logo when distributing the program.\n * Pursuant to Section 7(e) we decline to grant you any rights under trademark law for use of our trademarks.\n *\n * All the Product's GUI elements, including illustrations and icon sets, as well as technical\n * writing content are licensed under the terms of the Creative Commons Attribution-ShareAlike 4.0 International.\n * See the License terms at http://creativecommons.org/licenses/by-sa/4.0/legalcode\n *\n */\n\n(function (OCA) {\n    if (OCA.Onlyoffice) {\n        return;\n    }\n\n    OCA.Onlyoffice = {\n        AppName: \"onlyoffice\",\n        frameSelector: null,\n        setting: {},\n    };\n\n    OCA.Onlyoffice.setting = OCP.InitialState.loadState(OCA.Onlyoffice.AppName, \"settings\");\n\n    var OnlyofficeViewerVue = {\n        name: \"OnlyofficeViewerVue\",\n        render: function (createElement) {\n            var self = this;\n\n            return createElement(\"iframe\", {\n                attrs: {\n                    id: \"onlyofficeViewerFrame\",\n                    scrolling: \"no\",\n                    src: self.url + \"&inframe=true&inviewer=true\",\n                },\n                on: {\n                    load: function () {\n                        self.doneLoading();\n                    },\n                },\n            })\n        },\n        props: {\n            filename: {\n                type: String,\n                default: null\n            },\n            fileid: {\n                type: Number,\n                default: null\n            }\n        },\n        data: function () {\n            return {\n                url: OC.generateUrl(\"/apps/\" + OCA.Onlyoffice.AppName + \"/{fileId}?filePath={filePath}\",\n                    {\n                        fileId: this.fileid,\n                        filePath: this.filename\n                    })\n            }\n        }\n    };\n\n    if (OCA.Viewer) {\n        OCA.Onlyoffice.frameSelector = \"#onlyofficeViewerFrame\";\n\n        var mimes = $.map(OCA.Onlyoffice.setting.formats, function (format) {\n            if (format.def) {\n                return format.mime;\n            }\n        });\n        mimes.flat();\n        OCA.Viewer.registerHandler({\n            id: OCA.Onlyoffice.AppName,\n            group: null,\n            mimes: mimes,\n            component: OnlyofficeViewerVue\n        })\n    }\n\n})(OCA);\n"],"names":["OCA","Onlyoffice","AppName","frameSelector","setting","OCP","InitialState","loadState","OnlyofficeViewerVue","name","render","createElement","self","this","attrs","id","scrolling","src","url","on","load","doneLoading","props","filename","type","String","default","fileid","Number","data","OC","generateUrl","fileId","filePath","Viewer","mimes","$","map","formats","format","def","mime","flat","registerHandler","group","component"],"sourceRoot":""}